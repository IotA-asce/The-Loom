"""Core graph and profile primitives for The Loom."""

from .graph_logic import BranchGraph, StoryNode
from .image_generation_engine import (
    ATMOSPHERE_PRESETS,
    ArtistRequest,
    ArtistResult,
    AtmospherePreset,
    CharacterIdentityPack,
    ContinuityAnchor,
    ControlNetCondition,
    CrossModalAlignmentReport,
    CrossModalMismatch,
    DiffusionArtifact,
    DiffusionBackend,
    DiffusionConfig,
    DiffusionRequest,
    DriftDetectionResult,
    LightingConstraint,
    LoRAAdapterManager,
    LoRAAdapterRecord,
    MockDiffusionBackend,
    PanelArtifact,
    PanelQualityCheck,
    ReconcileAction,
    ReconcilePlan,
    SceneBlueprint,
    SceneBlueprintPanel,
    TextureConstraint,
    atmosphere_preset,
    build_identity_pack,
    build_scene_blueprint,
    detect_cross_modal_mismatch,
    generate_manga_sequence,
    reconcile_cross_modal,
    shared_scene_plan_from_text_and_prompt,
    validate_panel_continuity,
    writer_result_to_prose_segments,
)
from .profile_engine import (
    MaturityOverride,
    ProfileRegistry,
    SceneLabelBenchmark,
    TextSceneCorrection,
    analyze_text_profile,
    analyze_visual_profile,
    build_maturity_profile,
    compute_tone_jitter_index,
    evaluate_scene_label_predictions,
)
from .profiles import ToneProfile
from .retrieval_engine import (
    ChunkMetadata,
    HierarchicalMemoryModel,
    NamespaceCompactionReport,
    NarrativeChunk,
    QueryBenchmark,
    RetrievalBudget,
    RetrievalHit,
    RetrievalIndex,
    RetrievalQualityMetrics,
    RetrievalQuery,
    RetrievalResponse,
    RetrievalRuntimeStats,
    UnresolvedThread,
    build_hierarchical_memory_model,
    evaluate_retrieval_quality,
    mean_reciprocal_rank,
    namespace_id,
    ndcg_at_k,
    precision_at_k,
)
from .story_graph_engine import (
    CURRENT_GRAPH_SCHEMA_VERSION,
    BranchBudgetPolicy,
    BranchLifecycleManager,
    BranchRecommendation,
    BranchRecord,
    CanonConstraint,
    ConsequenceSimulationResult,
    ConsequenceSimulator,
    EntityAliasGraph,
    EntityStateConflict,
    EventExtractionResult,
    EventRecord,
    GraphMigrationError,
    GraphMigrationManager,
    GraphPersistenceStore,
    GraphSnapshot,
    MigrationCheckpoint,
    MigrationReplayResult,
    RelationEdge,
    RelationExtractionResult,
    TemporalOrderResult,
    detect_entity_state_conflicts,
    extract_events_hybrid,
    extract_relations,
    infer_temporal_order,
    repair_temporal_order,
)
from .text_generation_engine import (
    ContextAssembly,
    ContradictionReport,
    PromptPackage,
    PromptRegistry,
    PromptTemplateVersion,
    StyleEmbedding,
    TunerImpactPreview,
    TunerMapping,
    TunerSettings,
    VoiceCard,
    VoiceCheckResult,
    WriterEngine,
    WriterRequest,
    WriterResult,
    build_prompt_package,
    check_contradictions,
    compute_style_embedding,
    map_tuner_settings,
    retrieve_style_exemplars,
    sanitize_user_prompt,
    style_similarity,
    tuner_impact_preview,
)

__all__ = [
    "BranchGraph",
    "ATMOSPHERE_PRESETS",
    "AtmospherePreset",
    "ArtistRequest",
    "ArtistResult",
    "MaturityOverride",
    "ProfileRegistry",
    "SceneLabelBenchmark",
    "CharacterIdentityPack",
    "ContinuityAnchor",
    "ControlNetCondition",
    "CrossModalAlignmentReport",
    "CrossModalMismatch",
    "DiffusionArtifact",
    "DiffusionBackend",
    "DiffusionConfig",
    "DiffusionRequest",
    "DriftDetectionResult",
    "LightingConstraint",
    "LoRAAdapterManager",
    "LoRAAdapterRecord",
    "MockDiffusionBackend",
    "PanelArtifact",
    "PanelQualityCheck",
    "ReconcileAction",
    "ReconcilePlan",
    "SceneBlueprint",
    "SceneBlueprintPanel",
    "TextureConstraint",
    "StoryNode",
    "TextSceneCorrection",
    "ToneProfile",
    "ChunkMetadata",
    "HierarchicalMemoryModel",
    "NarrativeChunk",
    "NamespaceCompactionReport",
    "QueryBenchmark",
    "RetrievalBudget",
    "RetrievalHit",
    "RetrievalIndex",
    "RetrievalQualityMetrics",
    "RetrievalQuery",
    "RetrievalResponse",
    "RetrievalRuntimeStats",
    "UnresolvedThread",
    "analyze_text_profile",
    "analyze_visual_profile",
    "build_hierarchical_memory_model",
    "build_identity_pack",
    "build_maturity_profile",
    "build_scene_blueprint",
    "compute_tone_jitter_index",
    "CURRENT_GRAPH_SCHEMA_VERSION",
    "BranchBudgetPolicy",
    "BranchLifecycleManager",
    "BranchRecommendation",
    "BranchRecord",
    "CanonConstraint",
    "ConsequenceSimulationResult",
    "ConsequenceSimulator",
    "EntityAliasGraph",
    "EntityStateConflict",
    "EventExtractionResult",
    "EventRecord",
    "GraphMigrationError",
    "GraphMigrationManager",
    "GraphPersistenceStore",
    "GraphSnapshot",
    "MigrationCheckpoint",
    "MigrationReplayResult",
    "RelationEdge",
    "RelationExtractionResult",
    "TemporalOrderResult",
    "detect_entity_state_conflicts",
    "detect_cross_modal_mismatch",
    "evaluate_retrieval_quality",
    "evaluate_scene_label_predictions",
    "generate_manga_sequence",
    "extract_events_hybrid",
    "extract_relations",
    "infer_temporal_order",
    "mean_reciprocal_rank",
    "namespace_id",
    "ndcg_at_k",
    "precision_at_k",
    "shared_scene_plan_from_text_and_prompt",
    "validate_panel_continuity",
    "writer_result_to_prose_segments",
    "atmosphere_preset",
    "reconcile_cross_modal",
    "repair_temporal_order",
    "ContextAssembly",
    "ContradictionReport",
    "PromptPackage",
    "PromptRegistry",
    "PromptTemplateVersion",
    "StyleEmbedding",
    "TunerImpactPreview",
    "TunerMapping",
    "TunerSettings",
    "VoiceCard",
    "VoiceCheckResult",
    "WriterEngine",
    "WriterRequest",
    "WriterResult",
    "build_prompt_package",
    "check_contradictions",
    "compute_style_embedding",
    "map_tuner_settings",
    "retrieve_style_exemplars",
    "sanitize_user_prompt",
    "style_similarity",
    "tuner_impact_preview",
]
